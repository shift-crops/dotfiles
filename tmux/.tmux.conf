set-option -g default-shell /bin/zsh
set-option -g default-terminal xterm-256color

set-option -g repeat-time 1000
set-option -s escape-time 0
set-option -g mouse on

##########
# pane, window style
##########

set-option -g window-style 'fg=colour245'
set-option -g window-active-style 'fg=colour255'

# setw -g window-status-current-fg white
# setw -g window-status-current-bg red
# setw -g window-status-current-attr bright
set -g pane-active-border-fg white
set -g pane-active-border-bg yellow

##########
# keybind
##########

unbind-key %
unbind-key '"'
unbind-key c

bind-key r source-file ~/.tmux.conf \; display-message "Reloaded config"
bind-key \ split-window -h -c "#{pane_current_path}"
bind-key % split-window -h -c "#{pane_current_path}"
bind-key - split-window -v -c "#{pane_current_path}"
bind-key '"' split-window -v -c "#{pane_current_path}"
bind-key c new-window -c "#{pane_current_path}"
bind-key e setw synchronize-panes on
bind-key E setw synchronize-panes off

bind-key -r h select-pane -L
bind-key -r j select-pane -D
bind-key -r k select-pane -U
bind-key -r l select-pane -R
bind-key -r C-h select-window -t :-
bind-key -r C-l select-window -t :+

##########
# copy mode
##########

setw -g mode-keys vi
bind-key v copy-mode
bind-key p paste-buffer

##########
# plugins
##########

set-option -g @tpm_plugins '       \
  tmux-plugins/tpm                 \
  tmux-plugins/tmux-resurrect      \
  tmux-plugins/tmux-continuum      \
'
run-shell '~/.tmux/plugins/tpm/tpm'

set-option -g @resurrect-strategy-vim 'session'
set-option -g @continuum-restore 'on'
set-option -g @resurrect-processes 'ssh'

source ~/.powerline.tmux.conf
